<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #1E92FB; 
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
  <meta charset="utf-8">
  

  
  <title>scy‘s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <meta name="description" content="明日方舟公开招募计算器                                                      window.dataLayer &#x3D; window.dataLayer || [];         function gtag() { dataLayer.push(arguments); }         gtag(&#39;js&#39;,">
<meta property="og:type" content="website">
<meta property="og:title" content="scy‘s blog">
<meta property="og:url" content="http://yoursite.com/ark/akhr.html">
<meta property="og:site_name" content="scy‘s blog">
<meta property="og:description" content="明日方舟公开招募计算器                                                      window.dataLayer &#x3D; window.dataLayer || [];         function gtag() { dataLayer.push(arguments); }         gtag(&#39;js&#39;,">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-02-12T12:12:21.411Z">
<meta property="article:modified_time" content="2020-02-12T12:12:21.411Z">
<meta property="article:author" content="scy‘s blog">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="scy‘s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/avatar.jpg">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/highlight.css">

<meta name="generator" content="Hexo 4.2.0"></head>
<script src="https://v1.hitokoto.cn/?c=d&encode=js&select=%23hitokoto" defer></script>

<body>
<script src="/live2d-widget-master/autoload.js"></script>
  <div id="fullpage" class="mobile-nav-right">
    
      <div id="wrapper" style="background-image: url(/images/back.jpg)" title="gyf天下第一美少女！！！">
    
    
      <header id="header">
  <div id="nav-toggle" class="nav-toggle"></div>
  <div class="head-box global-width">
    <nav class="nav-box nav-right">
      
        <a class="nav-item" href="/yiyan" title
        
        >一言 ヒトコト</a>
      
        <a class="nav-item" href="/sdf" title
        
        >404(可以欣赏一下）</a>
      
        <a class="nav-item" href="/photo" title
        
        >随机图片</a>
      
        <a class="nav-item" href="/ark" title
        
        >明日方舟公开招募</a>
      
        <a class="nav-item" href="/about" title
        
        >关于</a>
      
        <a class="nav-item" href="/music" title
        
        >音乐</a>
      
        <a class="nav-item" href="/archives" title
        
        >归档</a>
      
        <a class="nav-item" href="/" title
        
        >首页</a>
      
    </nav>
  </div>
</header>
      <div id="middlecontent" title class="global-width sidebar-right">
        <section id="main"><article id="page-" class="article global-container article-type-page" itemscope itemprop="blogPost">
  
  <div class="article-meta">
    <a href="/ark/akhr.html" class="article-date">
  <time datetime="2020-02-12T12:12:21.411Z" itemprop="datePublished">2020-02-12</time>
</a>
    
    
  </div>
  
    <span id="busuanzi_container_page_pv">
      本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <!DOCTYPE html>

<html lang="zh-Hans" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset=utf-8"utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>明日方舟公开招募计算器</title>
    <link rel="stylesheet" href="bootstrap.min.css" tppabs="https://ak.graueneko.xyz/css/bootstrap.min.css">
    <script src="jquery-3.4.0.min.js" tppabs="https://ak.graueneko.xyz/js/jquery-3.4.0.min.js"></script>
    <script src="popper.min.js" tppabs="https://ak.graueneko.xyz/js/popper.min.js"></script>
    <script src="bootstrap.min.js" tppabs="https://ak.graueneko.xyz/js/bootstrap.min.js"></script>
    <script src="akcustom.js" tppabs="https://ak.graueneko.xyz/js/akcustom.js"></script>
    <link rel="stylesheet" href="multilingual.css" tppabs="https://ak.graueneko.xyz/css/multilingual.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="js-id=UA-138420636-1" tppabs="https://www.googletagmanager.com/gtag/js?id=UA-138420636-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-138420636-1');
    </script>
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <a class="navbar-brand cn" href="index.html" tppabs="https://ak.graueneko.xyz/">明日方舟工具箱</a>
        <a class="navbar-brand en" href="index.html" tppabs="https://ak.graueneko.xyz/">Arknights Toolbox</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="展开">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link cn" href="akhr.html" tppabs="https://ak.graueneko.xyz/akhr.html">公开招募计算器</a>
                    <a class="nav-link en" href="akhr.html-lang=en.htm" tppabs="https://ak.graueneko.xyz/akhr.html?lang=en">Recuitment Recommender</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="aklevel.html" tppabs="https://ak.graueneko.xyz/aklevel.html">升级计算</a>
                    <a class="nav-link en" href="aklevel.html-lang=en.htm" tppabs="https://ak.graueneko.xyz/aklevel.html?lang=en">Levelup Calculator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="akevolve.html" tppabs="https://ak.graueneko.xyz/akevolve.html">精英材料计算</a>
                    <a class="nav-link en" href="akevolve.html-lang=en.htm" tppabs="https://ak.graueneko.xyz/akevolve.html?lang=en">Evolve Calculator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="akhrchars.html" tppabs="https://ak.graueneko.xyz/akhrchars.html">干员表</a>
                    <a class="nav-link en" href="akhrchars.html-lang=en.html" tppabs="https://ak.graueneko.xyz/akhrchars.html?lang=en">Operators Table</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cn" href="javascript:if(confirm('https://aktoolscn.graueneko.xyz/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://aktoolscn.graueneko.xyz/'" tppabs="https://aktoolscn.graueneko.xyz/">[新版工具箱]</a>
                    <a class="nav-link en" href="javascript:if(confirm('https://aktools.graueneko.xyz/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://aktools.graueneko.xyz/'" tppabs="https://aktools.graueneko.xyz/">New Version</a>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="switchLang" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Language
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="akhr.html-lang=cn.html" tppabs="https://ak.graueneko.xyz/akhr.html?lang=cn">中文</a>
                        <a class="dropdown-item" href="akhr.html-lang=en.html" tppabs="https://ak.graueneko.xyz/akhr.html?lang=en">English</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container" style="margin:auto;max-width:1400px;">
        <div class="row mt-3">
            <div class="col-12 col-lg-4 px-2">
                <div class="alert alert-dark px-2 py-1" role="alert">
                    <table class="table table-sm m-0">
                        <tbody id="box-options">
                            <tr>
                                <td>
                                    <button type="button" class="btn btn-sm btn-danger my-1" id="btn-clear">
                                        <span class="cn">清空</span>
                                        <span class="en">Clear</span>
                                    </button>
                                    <span class="d-none d-sm-inline">
                                        <button type="button" class="btn btn-sm btn-primary btn-showopt my-1 btn-name" opt-id="showName">
                                            <span class="cn">名称</span>
                                            <span class="en">Name</span>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-secondary btn-showopt my-1 btn-image" opt-id="showImage">
                                            <span class="cn">图片</span>
                                            <span class="en">Image</span>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-secondary btn-showopt my-1 btn-imgsize btn-imgsizedefault" sizeval="27">
                                            <span class="cn">小</span>
                                            <span class="en">Small</span>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-secondary btn-showopt my-1 btn-imgsize" sizeval="45">
                                            <span class="cn">中</span>
                                            <span class="en">Middle</span>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-secondary btn-showopt my-1 btn-imgsize" sizeval="80">
                                            <span class="cn">大</span>
                                            <span class="en">Large</span>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-secondary btn-showopt my-1 btn-imgsize" sizeval="128">
                                            <span class="cn">特大</span>
                                            <span class="en">Ex-large</span>
                                        </button>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="all" id="opt-all">ALL</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="6">6★</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="5">5★</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="4">4★</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="3">3★</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="2">2★</button>
                                    <button type="button" class="btn btn-sm btn-primary btn-opt my-1" opt-id="1">1★</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm m-0"><tbody id="box-tags"></tbody></table>
                </div>
            </div>
            <div class="col-12 col-lg-8 px-0">
                <table class="table table-striped table-hover" id="table-recommend">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col" class="d-none d-sm-table-cell">#</th>
                            <th scope="col" style="width:16.67%">Tags</th>
                            <th scope="col">
                                <span class="cn">可能出现</span>
                                <span class="en">Possible Operators</span>
                            </th>
                            <th scope="col" class="d-none d-sm-table-cell">$~</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-recommend"></tbody>
                </table>
            </div>
        </div>
        <hr />
        <div class="row col-12 tutorial">
            <div class="col-12 text-left cn">
                <p>使用说明：</p>
                <p>1. 勾选需要查询的Tag，最多6个；</p>
                <p>2. 勾选需要查询的星级，默认全部；</p>
                <p>3. 现在点击标签即可开始计算，可点击“清空”重新开始；</p>
                <p>4. 可以点击推荐表格中的干员或标签进行精准查询，再点击任意干员或标签返回。</p>
            </div>
            <div class="col-12 text-left en">
                <p>How To Use:</p>
                <p>1. Click on tags, up to 6 tags</p>
                <p>2. Check the star you want to filter</p>
                <p>3. Click on calculate (currently automatically calculated on pressing tags)</p>
                <p>4. You can click on the clerk or label in the recommendation form to make an accurate query, then click on any clerk or label to return.</p>
            </div>
        </div>
        <div class="col-12 alert alert-success mt-1 cn" role="alert">
            20/02/08 若遇到无法打开的错误，<a href="akhr.html" tppabs="https://ak.graueneko.xyz/akhr.html">请重新保存本站链接。</a>
        </div>
        <div class="col-12 alert alert-success mt-1 en" role="alert">
            20/02/08 If you encounter the PAGE NOT FOUND error, <a href="akhr.html" tppabs="https://ak.graueneko.xyz/akhr.html">please bookmark our link again.</a>
        </div>
        <div class="col-12 alert alert-success mt-1 cn" role="alert">
            19/12/24 公开招募干员池已随游戏同步更新。
        </div>
        <div class="col-12 alert alert-success mt-1 cn" role="alert">
            19/06/13 明日方舟工具箱(新版) 上线：更多功能，更快加载，<a href="javascript:if(confirm('https://aktools.graueneko.xyz/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://aktools.graueneko.xyz/'" tppabs="https://aktools.graueneko.xyz/">欢迎点击此处使用。</a>(数据保持同步更新)
        </div>
    </div>

    <hr />
    <div class="row col-12 page-footer">
        <div class="col-12 text-center cn">
            <p>最近更新：2019/12/24，<a href="javascript:if(confirm('https://bbs.nga.cn/read.php?tid=16971344  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://bbs.nga.cn/read.php?tid=16971344'" tppabs="https://bbs.nga.cn/read.php?tid=16971344">联系作者</a></p>
            <p>Powered by 一只灰猫。</p>
        </div>
        <div class="col-12 text-center en">
            <p>Last update: 12/24/2019, <a href="javascript:if(confirm('https://github.com/graueneko/graueneko.github.io/issues  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://github.com/graueneko/graueneko.github.io/issues'" tppabs="https://github.com/graueneko/graueneko.github.io/issues">Contact</a></p>
            <p>Powered by GraueNeko, Aceship</p>
        </div>
    </div>
    <script>
        $(function () {
            let lang = getLang();
            let initialized = false;
            showCurrentLang();
            document.title = {
                "cn": "明日方舟公开招募计算器",
                "en": "Arknights Recruitment Recommender"
            }[lang];
            let tags = [
                {
                    "cn": "资质", "cntags": ["新手", "资深干员", "高级资深干员"],
                    "en": "Qualification", "entags": ["Starter", "Senior Operator", "Top Operator"]
                },
                {
                    "cn": "位置", "cntags": ["远程位", "近战位"],
                    "en": "Position", "entags": ["Ranged", "Melee"]
                },
                {
                    "cn": "种类", "cntags": ["先锋干员", "狙击干员", "医疗干员", "术师干员", "近卫干员", "重装干员", "辅助干员", "特种干员"],
                    "en": "Class", "entags": ["Vanguard", "Sniper", "Medic", "Caster", "Guard", "Defender", "Support", "Specialist"]
                },
                {
                    "cn": "词缀", "cntags": ["治疗", "支援", "输出", "群攻", "减速", "生存", "防护", "削弱", "位移", "控场", "爆发", "召唤", "快速复活", "费用回复", "支援机械"],
                    "en": "Affix", "entags": ["Healing", "Support", "DPS", "AoE", "Slow", "Survival", "Defense", "Debuff", "Shift", "Crowd Control", "Nuker", "Summoner", "Fast-Redeploy", "DP-Recovery", "Robot"]
                }
            ];
            $.each(tags, (_, v) => {
                let row = '<tr><td><button class="btn btn-sm btn-info my-1" disabled>' + v[lang] + '</button></td><td>';
                let tags_btn = []
                for (let i = 0; i < v['cntags'].length; i++) {
                    tags_btn.push('<button type="button" class="btn btn-sm btn-secondary btn-tag my-1" ' +
                        (lang === 'cn' ? '' : ('data-toggle="tooltip" data-placement="top" title="' + v[lang + 'tags'][i] + '"'))
                        + '>' + v['cntags'][i] + "</button>");
                }
                row += tags_btn.join("\r\n") + "</td></tr>";
                $("#box-tags").append(row);
            });
            if (lang !== 'cn') $('[data-toggle="tooltip"]').tooltip();

            let tags_aval = {};
            let all_chars = {};
            let avg_char_tag = 0;
            $.getJSON("https://ak.graueneko.xyz/akhr.json", function (data) {
                let tag_count = 0;
                let char_tag_sum = 0;
                // console.log(data);
                $.each(data, function (_, char) {
                    if (char.hidden) return;
                    char.tags.push(char.type + "干员");
                    let name = lang === 'cn' ? char.name : char["name-" + lang];
                    $.each(char.tags, function (_, tag) {
                        if (tag in tags_aval) {
                            tags_aval[tag].push({ "name": name, "img": char["name-en"], "level": char.level, "type": char.type });
                        } else {
                            tags_aval[tag] = [{ "name": name, "img": char["name-en"], "level": char.level, "type": char.type }];
                            tag_count++;
                        }
                        char_tag_sum++;
                    });
                    all_chars[name] = { 'level': char.level, 'tags': char.tags };
                });
                avg_char_tag = char_tag_sum / tag_count;
            });

            let showImage = getLocalStorage("hr-showImage", false);
            let showName = getLocalStorage("hr-showName", true);
            let imageSize = getLocalStorage("hr-imageSize",27);
            function toggleBtnImage() {
                $(".btn-image").toggleClass("btn-primary btn-secondary");
                $(".btn-imgsize").removeClass("btn-primary btn-secondary").addClass("btn-secondary");
                if ($(".btn-image").hasClass("btn-primary")) $(".btn-imgsize[sizeval=" + imageSize + "]").toggleClass("btn-primary btn-secondary");
                showImage = $(".btn-image").hasClass("btn-primary");
                setLocalStorage("hr-showImage", showImage);
                setLocalStorage("hr-imageSize", imageSize);
                if(initialized) calc();
            }
            function toggleBtnName() {
                $(".btn-name").toggleClass("btn-primary btn-secondary");
                showName = !showName;
                setLocalStorage("ht-showName", showName);
                if(initialized) calc();
            }
            if (showImage) { toggleBtnImage(); }
            $(document).on("click", ".btn-name", toggleBtnName);
            $(document).on("click", ".btn-image", toggleBtnImage);
            $(document).on("click", ".btn-imgsize", function () {
                if ($(this).hasClass("btn-primary")) {
                    $(".btn-image").removeClass("btn-primary btn-secondary").addClass("btn-secondary");
                    $(".btn-imgsize").removeClass("btn-primary btn-secondary").addClass("btn-secondary");
                } else {
                    imageSize = parseInt($(this).attr("sizeval"));
                    $(".btn-image").removeClass("btn-primary btn-secondary").addClass("btn-primary");
                    $(".btn-imgsize").removeClass("btn-primary btn-secondary").addClass("btn-secondary");
                    $(this).toggleClass("btn-primary btn-secondary");
                }
                showImage = $(".btn-image").hasClass("btn-primary");
                setLocalStorage("hr-showImage", showImage);
                setLocalStorage("hr-imageSize", imageSize);
                calc();
            });

            function calc() {
                let len = checkedTags.length;
                let count = Math.pow(2, checkedTags.length);
                let combs = [];
                for (let i = 0; i < count; i++) {
                    let ts = [], tsTL = [];
                    for (let j = 0, mask = 1; j < len; j++) {
                        if ((i & mask) !== 0) {
                            ts.push(checkedTags[j]);
                            tsTL.push(checkedTagsTL[j]);
                            // console.log(checkedTags[j]);
                        }
                        mask = mask * 2;
                    }
                    combs.push({ "tags": ts, "tagsTL": tsTL, "score": 0.0, "possible": [] });
                }
                // console.log(combs);
                let optStars = [];
                $(".btn-opt").each(function (_, __) {
                    if ($(this).attr("opt-id") === "all" || $(this).hasClass("btn-secondary")) return;
                    optStars.push($(this).attr("opt-id"));
                });
                //console.log(optStars);
                $("#tbody-recommend").html("");
                $.each(combs, function (_, comb) {
                    let tags = comb.tags;
                    if (tags.length === 0 || tags.length > 3) return;
                    let chars = [...tags_aval[tags[0]]];
                    for (let i = 1; i < tags.length; i++) {
                        let reduced_chars = [];
                        $.each(chars, function (_, char) {
                            // console.log(tags_aval[tags[i]]);
                            // console.log(char);
                            $.each(tags_aval[tags[i]], function (_, tgch) {
                                if (char.name === tgch.name) {
                                    reduced_chars.push(char);
                                    return false;
                                }
                            });
                        });
                        chars = reduced_chars;
                    }

                    if (chars.length === 0) return;
                    if (!tags.includes("高级资深干员")) {
                        // console.log(tags.join(",") + " 不含(高级)资深干员");
                        let reduce6 = [];
                        $.each(chars, function (_, char) {
                            if (char.level !== 6) {
                                reduce6.push(char);
                            }
                        });
                        chars = reduce6;
                    }
                    let filtered_chars = [];
                    $.each(chars, function (_, char) {
                        //console.log(char.level);
                        if (optStars.includes(char.level.toString())) {
                            filtered_chars.push(char);
                        }
                    });
                    chars = filtered_chars;

                    comb.possible = chars;
                    if (chars.length === 0) return;
                    let s = 0;
                    $.each(chars, (_, char) => {
                        s += char.level;
                    });
                    s = s / chars.length;
                    comb.score = s + 0.1 / tags.length + 0.9 / chars.length;
                });
                combs.sort(function (a, b) {
                    return a.score > b.score ? -1 : (a.score < b.score ? 1 :
                        (a.tags.length > b.tags.length ? 1 : (a.tags.length < b.tags.length ? -1 : 0)));
                });
                let no = 1;
                $.each(combs, function (_, comb) {
                    if (comb.possible.length === 0) return;
                    let chars = comb.possible;
                    let tags = comb.tags;
                    let tagsTL = comb.tagsTL;
                    let chars_html = [];
                    let colors = { 1: "dark", 2: "light", 3: "success", 4: "info", 5: "warning", 6: "danger" };
                    comb.possible.sort(function (a, b) {
                        return a.level > b.level ? -1 : (a.level < b.level ? 1 : 0);
                    });
                    $.each(chars, function (_, char) {
                        let padding = showName && imageSize < 60 ? "padding-right: 4px" : "padding-right: 1px";
                        let style = showImage ? "style=\"border-radius: 5px;padding: 1px 1px;" + padding + ";\" " : "";
                        let buttonstyle = imageSize > 25 ? "background-color: #AAA;border-radius: 4px;" : "background-color: transparent;border-radius: 4px;";
                        chars_html.push("<button type=\"button\" class=\"btn btn-sm btn-" + colors[char.level] + " btn-char my-1 d-none d-sm-inline\" " + style + "title=\"" + char.name + "\">");
                        if (showImage) chars_html.push("<img style=\"" + buttonstyle + "\"height=\"" + imageSize + "\" width=\"" + imageSize + "\" src=\"img/chara/" + char.img + ".png\">   ");
                        if (imageSize > 60) chars_html.push("<div>");
                        if (showName) chars_html.push(char.name);
                        if (imageSize > 60) chars_html.push("</div>");
                        chars_html.push("</button>\n");
                        chars_html.push("<button type=\"button\" class=\"btn btn-sm btn-" + colors[char.level] + " btn-char my-1 d-inline d-sm-none\" " + "title=\"" + char.name + "\">" + char.name + "</button>\n");
                    });
                    let tags_html = [];
                    for (let i = 0; i < tags.length; i++) {
                        if (lang === 'cn') {
                            tags_html.push('<button type="button" class="btn btn-sm btn-secondary btn-char my-1">' +
                                tags[i] + "</button>\n");
                        } else {
                            tags_html.push('<button type="button" class="btn btn-sm btn-secondary btn-char my-1' +
                                ' btn-char my-1" data-toggle="tooltip" data-placement="top" title="' + tagsTL[i] + '">' +
                                tags[i] + "</button>\n");
                        }
                    }
                    $("#tbody-recommend").append(
                        "<tr class=\"tr-recommd\">" +
                        "<td class=\"py-2 d-none d-sm-table-cell\">" + no++ + "</td>" +
                        "<td class=\"py-1\">" + tags_html.join("") + "</td><td class=\"py-1\">" + chars_html.join("") +
                        "</td>" +
                        "<td class=\"py-2 d-none d-sm-table-cell\">" + Math.floor(comb.score * 100) / 100 + "</td>" +
                        "</tr>");

                });
                if (lang !== 'cn') $('[data-toggle="tooltip"]').tooltip();
            }

            let hasHidden = false;
            $(document).on("click", ".btn-char", function () {
                if (!hasHidden) {
                    let char_name = $(this).attr("title");
                    $(".tr-recommd:not(:contains('" + char_name + "'))").hide();
                    let char = all_chars[char_name];
                    let colors = { 1: "dark", 2: "light", 3: "success", 4: "info", 5: "warning", 6: "danger" };

                    let tags_html = [];
                    $.each(char.tags, function (_, tag) {
                        tags_html.push("<button type=\"button\" class=\"btn btn-sm btn-secondary btn-char my-1\">" +
                            tag + "</button>\n")
                    });
                    $("#tbody-recommend").append(
                        "<tr class=\"tr-chartag\">" +
                        "<td class=\"py-2 d-none d-sm-table-cell\">#</td>" +
                        "<td class=\"py-1\"><button type=\"button\" class=\"btn btn-sm btn-" + colors[char.level] +
                        " btn-char my-1\">" + char_name + "</button>\n" +
                        "</td><td class=\"py-1\">" + tags_html.join("") +
                        "</td><td class=\"py-2 d-none d-sm-table-cell\">#</td></tr>");
                } else {
                    $(".tr-recommd").show();
                    $(".tr-chartag").remove();
                }
                hasHidden = !hasHidden;
            });

            let checkedTags = [];
            let checkedTagsTL = [];
            $(document).on("click", ".btn-tag", function () {
                let checked = $(this).hasClass("btn-primary");
                let tag = $(this).text();
                let tagTL = $(this).attr("data-original-title");
                if (checked) {
                    checkedTags = checkedTags.filter(function (v, _, __) {
                        return v !== tag;
                    });
                    checkedTagsTL = checkedTagsTL.filter(function (v, _, __) {
                        return v !== tagTL;
                    });
                } else {
                    if (checkedTags.length >= 6) {
                        alert({ "cn": "无法选择更多标签：最多6个。", "en": "No more tags: max 6." }[lang]);
                        return;
                    } else {
                        checkedTags.push(tag);
                        checkedTagsTL.push(tagTL);
                    }
                }
                $(this).toggleClass("btn-primary btn-secondary");
                calc();
            });
            $(document).on("click", ".btn-opt", function () {
                $(this).toggleClass("btn-primary btn-secondary");
                let checked = $(this).hasClass("btn-primary");
                if ($(this).attr("id") === "opt-all") {
                    $(".btn-opt").removeClass("btn-primary btn-secondary").addClass(
                        checked ? "btn-primary" : "btn-secondary"
                    );
                } else {
                    if ($("#opt-all").hasClass("btn-primary")) {
                        $("#opt-all").toggleClass("btn-primary btn-secondary");
                    } else {
                        let checkedCount = 0;
                        $(".btn-opt").each(function (_, __) {
                            if ($(this).attr("id") === "opt-all") return;
                            if ($(this).hasClass("btn-primary")) checkedCount++;
                        });
                        if (checkedCount === 6) $("#opt-all").toggleClass("btn-primary btn-secondary");
                    }
                }
                calc();
            });

            $(document).on('click', '#btn-clear', function () {
                $('.btn-tag').removeClass('btn-primary').addClass('btn-secondary');
                $("#tbody-recommend").html("");
                checkedTags = [];
            });
            initialized = true;
        });
    </script>
</body>
</html>
      
    </div>
    
      <footer class="article-footer">
        完
      </footer>
    
  </div>
  
    
    <link rel="stylesheet" href="/css/gitment.css"> 
<script src="/js/gitment.js"></script>

<div id="gitmentContainer"></div>

<script>
var gitment = new Gitment({
  owner: '',
  repo: '',
  oauth: {
    client_id: '',
    client_secret: '',
  },
})
gitment.render('gitmentContainer')
</script>

  
  
</article>
</section>
        <aside id="sidebar">
  
    <div class="widget-box">
  <div class="avatar-box">
    <img class="avatar" src="/images/avatar.jpg" title="gyf天下第一美少女！！！"></img>
    <h3 class="avatar-name">
      
        半夏·倾城
      
    </h3>
    <p class="avatar-slogan">
      我非长街，你亦不是千堆雪，为曾相拥，又何必阻止阳光繁衍；我非晨暮，你亦不是紫云烟，遥望非彼，何须谁若安好谁是晴天。
    </p>
  </div>
</div>


  
    

  
    
  <div class="widget-box">
    <h3 class="widget-title">一言 ヒトコト</h3>
    <div class="widget">
<script>
          $.get('https://sslapi.hitokoto.cn/?c=a', function (data) {
            if (typeof data === 'string') data = JSON.parse(data);
            $('#hitokoto-loader').removeClass('active');
            $('#hitokoto-content').css('display', '').text(data.hitokoto);
            if (data.from) {
              $('#hitokoto-from').css('display', '').text('——「' + data.from + '」');
            }
          });
          </script>
<div style="font-family: KaiTi; font-size: 21px; line-height: 1.5em;color: #9C661F;" id="hitokoto-content"></div>
<div style="text-align: right; margin-top: 15px; font-size: 15px; color: rgb(102, 102, 102);" id="hitokoto-from"></div>
    </div>
  </div>





  
    
    <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
    <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
    <div class="widget-wrap">
        <h3 class="widget-title">Tag Cloud</h3>
        <div id="myCanvasContainer" class="widget tagcloud">
            <canvas width="250" height="250" id="resCanvas" style="width=100%">
                <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/test1/" style="font-size: 10px;">test1</a> <a href="/tags/test2/" style="font-size: 10px;">test2</a> <a href="/tags/test3/" style="font-size: 10px;">test3</a> <a href="/tags/test4/" style="font-size: 10px;">test4</a> <a href="/tags/test5/" style="font-size: 10px;">test5</a> <a href="/tags/test6/" style="font-size: 10px;">test6</a> <a href="/tags/test7/" style="font-size: 10px;">test7</a>
            </canvas>
        </div>
    </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/11/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
      <div class="widget-box">
    <h3 class="widget-title">友链</h3>
    <div class="widget">
      
        <a style="display: block;" href="https://ganmouren.github.io/" title target='_blank'
        >gmr-blog</a>
      
        <a style="display: block;" href="https://shadowstalker.cn/" title target='_blank'
        >wyx-blog</a>
      
        <a style="display: block;" href="https://shencys.github.io/" title target='_blank'
        >my-blog1</a>
      
        <a style="display: block;" href="https://scy-handsome-cn.blog.luogu.org/" title target='_blank'
        >my-blog2</a>
      
        <a style="display: block;" href="http://www.arthas.org/" title target='_blank'
        >ybh-blog</a>
      
    </div>
  </div>

  

</aside>
      </div>
      <footer id="footer">
<script src="https://www.example.com/path/to/live2d-widget/autoload.js"></script>
  <div class="foot-box global-width">
    &copy; 2020 scy‘s blog &nbsp;&nbsp;
    驱动于 <a href="http://hexo.io/" target="_blank">Hexo</a>
    &nbsp;|&nbsp;主题 <a href="https://github.com/yiluyanxia/hexo-theme-antiquity" target="_blank" rel="noopener">antiquity</a>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">阁下是第<span id="busuanzi_value_site_pv"></span>个访客</span>
  </div>
</footer>
      <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
<script>
if (!window.jQuery) {
var script = document.createElement('script');
script.src = "/js/jquery-2.0.3.min.js";
document.body.write(script);
}
</script>

  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




    </div>
    <nav id="mobile-nav" class="mobile-nav-box">
  <div class="mobile-nav-img mobile-nav-top"></div>
  
    <a href="/yiyan" class="mobile-nav-link">一言 ヒトコト</a>
  
    <a href="/sdf" class="mobile-nav-link">404(可以欣赏一下）</a>
  
    <a href="/photo" class="mobile-nav-link">随机图片</a>
  
    <a href="/ark" class="mobile-nav-link">明日方舟公开招募</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/music" class="mobile-nav-link">音乐</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/" class="mobile-nav-link">首页</a>
  
  <div class="mobile-nav-img  mobile-nav-bottom"></div>
</nav>    
  </div>
</body>
</html>